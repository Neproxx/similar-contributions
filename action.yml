name: 'similar-contributions'
description: 'Searches for similar contributions by comparing previous pull requests to the current proposal title'

#runs:
#  using: 'node16'
#  main: 'main.js'

runs:
  using: "composite"
  steps:
    - run: python -m pip install nltk  # Installing dependencies
      shell: bash
    #- run: echo Your action_path: ${{ github.action_path }}
    #  shell: bash
    #- run: echo Your github.workspace: ${{ github.workspace }}
    #  shell: bash
    - run: python ./main.py
      shell: bash

    # Set env according to https://docs.github.com/en/actions/using-workflows/workflow-commands-for-github-actions#multiline-strings
    - name: Read generated comment into env
      run: |
        echo 'GENERATED_COMMENT<<EOF' >> $GITHUB_ENV
        cat $GITHUB_WORKSPACE/generated_comment.md >> $GITHUB_ENV
        echo 'EOF' >> $GITHUB_ENV
      shell: bash
